$(function() {
      window.onclick = function(e) { 
            if (e.button == 2) return false; 
      };

  var width = 574,
      height = 574;

  var x = [[  3.28819712e+01,   7.20636249e+02],
       [  3.44844262e+02,   5.46839682e+02],
       [  7.99985742e+02,   6.69736291e-01],
       [  1.76617658e+02,   6.04437003e+02],
       [  6.99005363e+01,   6.58685643e+02],
       [  6.99005661e+01,   6.58350774e+02],
       [  4.20657993e+02,   3.94809544e+02],
       [  3.74983357e+02,   3.98158225e+02],
       [  7.60232409e+02,   4.01841775e+00],
       [  5.73170674e+02,   2.59522813e+02],
       [  4.20670691e+02,   3.93135203e+02],
       [  4.20451985e+02,   3.93804939e+02],
       [  4.20292654e+02,   3.93135203e+02],
       [  4.20292386e+02,   3.92800335e+02],
       [  1.76617619e+02,   6.04771871e+02],
       [  6.99005707e+01,   6.58015906e+02],
       [  4.20658016e+02,   3.94474676e+02],
       [  4.74074968e+02,   4.03181247e+02],
       [  4.18295215e+02,   3.95144412e+02],
       [  4.19117548e+02,   3.94139807e+02],
       [  3.74939463e+02,   4.44370029e+02],
       [  3.75058339e+02,   3.98827961e+02],
       [  3.30119816e+01,   7.20301381e+02],
       [  4.20657975e+02,   3.95144412e+02],
       [  4.18295379e+02,   3.93470071e+02],
       [  4.20483508e+02,   3.92800335e+02],
       [  4.20483540e+02,   3.92800335e+02],
       [  4.20439080e+02,   3.93804939e+02],
       [  3.74939279e+02,   4.43700293e+02],
       [  6.98916551e+01,   7.20636249e+02],
       [  6.98916603e+01,   7.20301381e+02],
       [  3.44845752e+02,   4.96274592e+02],
       [  3.44845727e+02,   4.96609460e+02],
       [  5.48911945e-03,   7.86605274e+02],
       [  4.18886594e+02,   3.93135203e+02],
       [  5.73126565e+02,   2.59857681e+02],
       [  5.73170400e+02,   2.59522813e+02],
       [  4.74049214e+02,   4.04185852e+02],
       [  4.20451962e+02,   3.93804939e+02],
       [  4.18295317e+02,   3.94474676e+02],
       [  3.44845824e+02,   4.95939724e+02],
       [  6.98940747e+01,   7.18961909e+02],
       [  3.37179427e+02,   4.94935119e+02],
       [  4.20483729e+02,   3.92800335e+02],
       [  4.20483699e+02,   3.92800335e+02],
       [  3.37203248e+02,   4.96609460e+02],
       [  4.74029692e+02,   3.96818753e+02],
       [  7.99972892e+02,   0.00000000e+00],
       [  7.60211845e+02,   3.26831310e+02],
       [  4.18957462e+02,   3.94474676e+02],
       [  4.18957504e+02,   3.94474676e+02],
       [  3.75277545e+02,   4.44035161e+02],
       [  4.18886574e+02,   3.93804939e+02],
       [  4.18350195e+02,   3.94809544e+02],
       [  3.37179455e+02,   4.94935119e+02],
       [  4.18295362e+02,   3.93804939e+02],
       [  4.19116547e+02,   3.94139807e+02],
       [  7.99972807e+02,   6.69736291e-01],
       [  5.73170357e+02,   2.59522813e+02],
       [  3.30135773e+01,   7.20301381e+02],
       [  4.18886584e+02,   3.93470071e+02],
       [  4.19485514e+02,   3.96818753e+02],
       [  5.88510776e+02,   2.59522813e+02],
       [  4.20670365e+02,   3.93135203e+02],
       [  1.82702108e-06,   7.94642110e+02],
       [  4.18295338e+02,   3.94139807e+02],
       [  2.68445894e+02,   5.51192968e+02],
       [  4.19117038e+02,   3.94139807e+02],
       [  4.19650528e+02,   3.94139807e+02],
       [  4.19650527e+02,   3.94474676e+02],
       [  4.18886467e+02,   3.94809544e+02],
       [  4.18886482e+02,   3.94474676e+02],
       [  1.20378830e+02,   6.58015906e+02],
       [  4.20292215e+02,   3.94474676e+02],
       [  3.37002357e+02,   6.01088321e+02],
       [  4.18295471e+02,   3.92800335e+02],
       [  4.19117071e+02,   3.94139807e+02],
       [  4.19650551e+02,   3.93804939e+02],
       [  3.26893015e+01,   7.99330264e+02],
       [  4.18886504e+02,   3.94139807e+02],
       [  4.18459289e+02,   3.93804939e+02],
       [  1.20378806e+02,   6.58350774e+02],
       [  4.74045319e+02,   4.04520720e+02],
       [  4.20292271e+02,   3.94139807e+02],
       [  4.20292291e+02,   3.93804939e+02],
       [  3.28819648e+01,   7.20301381e+02],
       [  3.37004824e+02,   4.96609460e+02],
       [  1.20367486e+02,   7.20301381e+02],
       [  1.20367502e+02,   7.19966513e+02],
       [  4.20613136e+02,   3.93804939e+02],
       [  4.20613167e+02,   3.93804939e+02],
       [  4.18346813e+02,   3.94809544e+02],
       [  4.18521300e+02,   3.95144412e+02],
       [  1.37404831e-04,   7.93972373e+02],
       [  4.18346808e+02,   3.94809544e+02],
       [  4.18458715e+02,   3.94474676e+02],
       [  4.18458950e+02,   3.94139807e+02],
       [  3.75267126e+02,   4.42695689e+02],
       [  4.74067078e+02,   4.03181247e+02],
       [  1.20380641e+02,   6.57011302e+02],
       [  4.74058340e+02,   4.03181247e+02],
       [  3.28819656e+01,   7.19966513e+02],
       [  1.20367486e+02,   7.20636249e+02],
       [  6.99222130e+01,   7.20636249e+02],
       [  7.99999923e+02,   0.00000000e+00],
       [  7.99999891e+02,   0.00000000e+00],
       [  3.75070083e+02,   4.00167434e+02],
       [  4.18886448e+02,   3.95144412e+02],
       [  5.73123706e+02,   4.39681875e+02],
       [  2.68469026e+02,   5.50523231e+02],
       [  5.88545937e+02,   2.58183340e+02],
       [  4.74042589e+02,   4.04855588e+02],
       [  4.74058365e+02,   4.03181247e+02],
       [  7.99981986e+02,   1.00460444e+00],
       [  7.99982000e+02,   1.00460444e+00],
       [  3.30215985e+01,   7.18961909e+02],
       [  3.37179274e+02,   4.94935119e+02],
       [  4.18459308e+02,   3.93470071e+02],
       [  4.18459330e+02,   3.93135203e+02],
       [  4.20482249e+02,   3.92800335e+02],
       [  4.20482289e+02,   3.92800335e+02],
       [  4.18346409e+02,   3.94809544e+02],
       [  4.18346359e+02,   3.94809544e+02],
       [  3.37004875e+02,   4.96274592e+02],
       [  3.37004898e+02,   4.95939724e+02],
       [  6.98896553e+01,   7.73880285e+02],
       [  6.99222548e+01,   7.19966513e+02],
       [  3.37159146e+02,   4.95939724e+02],
       [  4.18346297e+02,   3.94809544e+02],
       [  3.75288862e+02,   4.42695689e+02],
       [  3.37166057e+02,   4.96274592e+02],
       [  4.20682655e+02,   3.93470071e+02],
       [  4.19117514e+02,   3.94139807e+02],
       [  2.68469002e+02,   5.50523231e+02],
       [  5.88526591e+02,   2.59187945e+02],
       [  3.44850041e+02,   4.95939724e+02],
       [  2.68446012e+02,   5.50858100e+02],
       [  4.18949162e+02,   3.95144412e+02],
       [  3.75058373e+02,   3.98827961e+02],
       [  1.76361986e+02,   7.15613227e+02],
       [  4.19116502e+02,   3.94139807e+02],
       [  2.68884320e+02,   5.49518627e+02],
       [  3.44850003e+02,   4.96609460e+02],
       [  3.44850021e+02,   4.96274592e+02],
       [  5.73177442e+02,   2.59522813e+02],
       [  4.18459386e+02,   3.92800335e+02],
       [  7.60231183e+02,   5.02302219e+00],
       [  3.25374242e-03,   7.95311846e+02],
       [  7.99970400e+02,   6.69736291e+00],
       [  2.53170474e+02,   5.52197572e+02],
       [  1.78974856e-03,   7.94976978e+02],
       [  1.38401957e-04,   7.93637505e+02],
       [  5.73177429e+02,   2.59522813e+02],
       [  3.25740651e-03,   7.95311846e+02],
       [  3.58297037e-03,   7.95311846e+02],
       [  2.53170373e+02,   5.52197572e+02],
       [  5.73126590e+02,   2.59522813e+02],
       [  5.73126605e+02,   2.59187945e+02],
       [  4.18351722e+02,   3.94809544e+02],
       [  1.20378795e+02,   6.58685643e+02],
       [  4.20670387e+02,   3.93135203e+02],
       [  4.19650428e+02,   3.95144412e+02],
       [  4.18887098e+02,   3.92800335e+02],
       [  4.18346262e+02,   3.94809544e+02],
       [  5.88526600e+02,   2.59187945e+02],
       [  3.44853656e+02,   4.94935119e+02],
       [  3.30187007e+01,   7.20301381e+02],
       [  2.53245046e+02,   5.49518627e+02],
       [  4.19650490e+02,   3.94809544e+02],
       [  4.18509047e+02,   3.95144412e+02],
       [  4.20292161e+02,   3.94809544e+02],
       [  4.20292112e+02,   3.95144412e+02],
       [  3.74936230e+02,   5.46839682e+02],
       [  2.56773409e+02,   7.73880285e+02],
       [  1.05371820e-03,   7.94976978e+02],
       [  3.29767410e+01,   7.20636249e+02],
       [  1.20358526e+02,   7.73880285e+02],
       [  4.19019472e+02,   3.94474676e+02],
       [  3.37179244e+02,   4.94935119e+02],
       [  3.75266671e+02,   4.43700293e+02],
       [  3.37194261e+02,   4.94935119e+02],
       [  0.00000000e+00,   7.94976978e+02],
       [  4.20670712e+02,   3.93135203e+02],
       [  3.37168987e+02,   4.94935119e+02],
       [  8.00000000e+02,   0.00000000e+00],
       [  7.99999986e+02,   0.00000000e+00],
       [  4.20681743e+02,   3.93470071e+02],
       [  5.73179681e+02,   2.59522813e+02],
       [  2.68814053e+02,   5.49518627e+02],
       [  7.99972827e+02,   3.34868146e-01],
       [  4.18295407e+02,   3.93135203e+02],
       [  6.99890894e+01,   7.20301381e+02],
       [  4.20289442e+02,   3.96818753e+02],
       [  7.60232497e+02,   3.68354960e+00],
       [  1.78432688e-03,   7.94976978e+02],
       [  1.05053624e-03,   7.94976978e+02],
       [  4.19647671e+02,   3.96818753e+02],
       [  4.20671593e+02,   3.93135203e+02],
       [  6.99222450e+01,   7.20301381e+02],
       [  4.20439055e+02,   3.93804939e+02],
       [  7.60231772e+02,   4.68815404e+00],
       [  2.68456661e+02,   5.51192968e+02],
       [  3.37227628e+02,   4.96609460e+02],
       [  3.37227651e+02,   4.96609460e+02],
       [  2.68442215e+02,   6.01088321e+02],
       [  3.44848321e+02,   4.94935119e+02],
       [  9.38885832e-07,   7.95311846e+02],
       [  3.29753153e+01,   7.20636249e+02],
       [  4.18458552e+02,   3.95144412e+02],
       [  3.30195994e+01,   7.20301381e+02],
       [  5.73145172e+02,   2.59857681e+02],
       [  3.37203402e+02,   4.96274592e+02],
       [  1.20369399e+02,   7.20301381e+02],
       [  3.30085562e+01,   7.20301381e+02],
       [  2.68475492e+02,   5.49518627e+02],
       [  2.68811574e+02,   6.01088321e+02],
       [  7.60232825e+02,   3.34868146e+00],
       [  4.18346758e+02,   3.94809544e+02],
       [  4.18290658e+02,   4.92256174e+02],
       [  4.18458630e+02,   3.94809544e+02],
       [  1.38425570e-04,   7.94307242e+02],
       [  5.88526609e+02,   2.59187945e+02],
       [  4.20672415e+02,   3.93135203e+02],
       [  4.74035896e+02,   3.94474676e+02],
       [  1.20374327e+02,   7.18961909e+02],
       [  3.74951874e+02,   4.44370029e+02],
       [  3.74983275e+02,   3.98493093e+02],
       [  4.19650618e+02,   3.92800335e+02],
       [  4.74035147e+02,   3.95144412e+02],
       [  4.74035293e+02,   3.94809544e+02],
       [  7.99985751e+02,   6.69736291e-01],
       [  5.88519708e+02,   2.59522813e+02],
       [  4.74035969e+02,   3.93470071e+02],
       [  7.99994086e+02,   3.34868146e-01],
       [  2.52911988e+02,   6.55002093e+02],
       [  1.20374951e+02,   7.18961909e+02],
       [  1.20374958e+02,   7.18961909e+02],
       [  3.74983164e+02,   3.97153621e+02],
       [  4.20658025e+02,   3.94139807e+02],
       [  4.18451323e+02,   3.96818753e+02],
       [  3.75266657e+02,   4.44035161e+02],
       [  7.60231834e+02,   4.35328589e+00],
       [  2.68456629e+02,   5.51192968e+02],
       [  4.74050059e+02,   4.03181247e+02],
       [  4.19650559e+02,   3.93470071e+02],
       [  4.19650578e+02,   3.93135203e+02],
       [  4.74035948e+02,   3.93804939e+02],
       [  4.74035909e+02,   3.94139807e+02],
       [  3.30117670e+01,   7.20301381e+02],
       [  4.20672620e+02,   3.93135203e+02],
       [  3.74983099e+02,   3.97488489e+02],
       [  4.20658181e+02,   3.93804939e+02],
       [  4.20658220e+02,   3.93470071e+02],
       [  5.88510598e+02,   2.59857681e+02],
       [  4.18348604e+02,   3.94809544e+02],
       [  3.28224646e+01,   7.19966513e+02],
       [  3.28224638e+01,   7.20636249e+02],
       [  4.74036792e+02,   4.04855588e+02],
       [  4.18332504e+02,   3.94809544e+02],
       [  4.18332541e+02,   3.94809544e+02],
       [  6.98916605e+01,   7.19966513e+02],
       [  3.75045759e+02,   3.98827961e+02],
       [  3.75262898e+02,   4.00167434e+02],
       [  4.20658276e+02,   3.93135203e+02],
       [  5.88508576e+02,   3.26831310e+02],
       [  4.18295299e+02,   3.94809544e+02],
       [  2.68446141e+02,   5.50523231e+02],
       [  3.28224629e+01,   7.20301381e+02],
       [  4.74035988e+02,   3.93135203e+02],
       [  4.74045121e+02,   4.04520720e+02],
       [  4.20671617e+02,   3.93135203e+02],
       [  3.74983050e+02,   3.97823357e+02],
       [  3.75045736e+02,   3.98827961e+02],
       [  3.74939166e+02,   4.44035161e+02],
       [  4.20658432e+02,   3.92800335e+02],
       [  3.75266837e+02,   4.44370029e+02],
       [  5.88537040e+02,   2.58183340e+02],
       [  3.37203170e+02,   4.95939724e+02],
       [  4.74036950e+02,   4.04185852e+02],
       [  4.18883394e+02,   3.96818753e+02],
       [  1.20369391e+02,   7.20301381e+02],
       [  5.73170864e+02,   2.59522813e+02],
       [  3.74982914e+02,   3.98827961e+02],
       [  4.20656226e+02,   3.96818753e+02],
       [  2.68465202e+02,   5.50858100e+02],
       [  5.88510985e+02,   2.58183340e+02],
       [  5.88510825e+02,   2.59187945e+02],
       [  5.88519326e+02,   2.59522813e+02],
       [  4.74036875e+02,   4.04520720e+02],
       [  2.52924073e+02,   7.63499372e+02],
       [  4.20292318e+02,   3.93470071e+02],
       [  1.20368361e+02,   7.19966513e+02],
       [  1.20368353e+02,   7.19966513e+02],
       [  3.37150108e+02,   4.96609460e+02],
       [  1.76617697e+02,   6.03767267e+02],
       [  1.76617687e+02,   6.04102135e+02],
       [  4.18958285e+02,   3.94474676e+02],
       [  4.18958252e+02,   3.94474676e+02],
       [  3.75288831e+02,   4.42695689e+02],
       [  4.19019449e+02,   3.94474676e+02],
       [  3.74964024e+02,   4.43700293e+02],
       [  7.99972790e+02,   1.00460444e+00],
       [  7.99972772e+02,   1.33947258e+00],
       [  3.30178048e+01,   7.20301381e+02],
       [  5.88536273e+02,   2.58183340e+02]];

  for (var i = 0; i < x.length; i++) {
      x[i][0] = x[i][0] * (width -10) / 800;
      x[i][1] = x[i][1] * (height-10) / 800;
  }

  var vertices = d3.range(x.length).map(function(d) {
    return x[d];
  }
  );

  console.log(vertices);

  var voronoi = d3.geom.voronoi()
      .clipExtent([[0, 0], [width, height]]);

  var svg = d3.select("body").append("svg")
      .attr("width", width)
      .attr("height", height)
      .on("mousemove", function() { vertices[0] = d3.mouse(this); redraw(); });

  var path = svg.append("g").selectAll("path");

  svg.selectAll("circle")
      .data(vertices.slice(1))
    .enter().append("circle")
      .attr("transform", function(d) { return "translate(" + d + ")"; })
      .attr("r", 1.5);

  redraw();

  function redraw() {
    path = path
        .data(voronoi(vertices), polygon);

    path.exit().remove();

    path.enter().append("path")
        .attr("class", function(d, i) { return "q" + (i % 9) + "-9"; })
        .attr("d", polygon);

    path.order();
  }

  function polygon(d) {
    return "M" + d.join("L") + "Z";
  }


});